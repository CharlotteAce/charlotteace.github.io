(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9603],{72293:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return wt},renderContents:function(){return yt}});var n=r(50029),i=r(59499),s=r(87794),a=r.n(s),o=(r(41539),r(88674),r(47941),r(82526),r(57327),r(38880),r(89554),r(54747),r(49337),r(33321),r(69070),r(5152)),l=r.n(o),c=r(67294),u=r(68183),d=r(57843),h=r(2664),f=r(96518),p=r(21489),m=(r(12419),r(92777)),v=r(82262),x=r(10748),g=r(45959),j=r(63553),b=r(37247),y=(r(2707),r(19857)),Z=r(88590),w=r(55600),D=r(38434),T=r(55375),S=r(79431),k=r(13421),M=r(20931),_=r(34639),C=r(49127),L=r(62964),O=r(26349),R=r(43142),P=r(36277),F=r(39194),B=r(8917),N=r(30177),X=r(70925),I=r(56831),A=r(60238),E=r(68482),H=r(72171),W=r(15860),U=r(41157),z=r(57420),q=r(80069),V=r(42344),Y=r(66635),Q=r(4041),J=r(41697),$=r(87434),G=r(64021),K=r(82863),ee=r(29292),te=r(39866),re=r(81782),ne=r(85893);function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,b.Z)(e);if(t){var i=(0,b.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,j.Z)(this,r)}}var oe=function(e){(0,g.Z)(r,e);var t=ae(r);function r(e){var n;(0,m.Z)(this,r),n=t.call(this,e),(0,i.Z)((0,x.Z)(n),"refreshTimer",void 0),(0,i.Z)((0,x.Z)(n),"timelineRef",void 0),n.onRefresh=n.onRefresh.bind((0,x.Z)(n));var s=e.timestamp;return(0,e.setCurrentTimeStamp)(s),n.timelineRef=c.createRef(),n}return(0,v.Z)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.searchPopProps,r=e.muteUsersCount,n=e.setMuteCount;this.refreshTimer=setInterval(this.onRefresh,1e4),t&&(0,y.$)(se(se({},t),{},{target:this.timelineRef.current||void 0})),n(r)}},{key:"componentWillUnmount",value:function(){clearInterval(this.refreshTimer)}},{key:"onRefresh",value:function(){(0,this.props.setCurrentTimeStamp)(Math.floor(Date.now()/1e3))}},{key:"renderHeader",value:function(){var e=this.props,t=e.mhd,r=e.message,n=e.verticaltab,i=e.searchbox,s=e.patrol,a=e.qt;return(0,ne.jsx)("div",{className:"header",children:(0,ne.jsxs)("div",{className:"content--990",children:[t&&(0,ne.jsx)(_.Z,se({},t)),r&&(0,ne.jsx)(M.Z,se({},r)),(0,ne.jsx)(S.Z,{}),(0,ne.jsx)(L.Z,{}),n&&(0,ne.jsx)(A.Z,se({},n)),i&&(0,ne.jsx)(P.Z,se({},se(se({},i),{},{patrol:s,qt:a})))]})})}},{key:"renderBodyMain",value:function(){var e=this.props,t=e.timelineSettings,r=e.searchError,n=e.ss,i=e.yads,s=e.suicideCheck,a=e.speller,o=e.relatedBuzz,l=e.relatedHashtag,c=e.term,u=e.tab,d=e.sort,h=e.autoscroll,f=Boolean(r.errorType);return(0,ne.jsxs)("div",{className:"main",children:[n?(0,ne.jsx)(J.Z,se({},n)):(null===i||void 0===i?void 0:i.mainTop)&&(0,ne.jsx)(H.Z,{yadsItem:i.mainTop,id:"mainTop"}),s&&(0,ne.jsx)(B.Z,{}),a&&(0,ne.jsx)(F.Z,se({},a)),o&&(0,ne.jsx)(Y.Z,se({},o)),l&&(0,ne.jsx)(Q.Z,se({},l)),c&&(0,ne.jsx)(K.Z,se({},c)),c&&h&&(0,ne.jsx)(ee.C,{}),!c&&(0,ne.jsx)(U.Z,{}),u&&d&&(!f||f&&t.imageVideoMode)&&(0,ne.jsx)(G.ZP,{imageVideoMode:t.imageVideoMode,tab:u,sort:d,isAutoscrollDisabled:!h||Boolean(c)||"h"===d.type}),f?this.renderError():this.renderTimeline()]})}},{key:"renderBodySub",value:function(){var e=this.props,t=e.timestamp,r=e.timelineSettings,n=e.searchError,i=e.yads,s=e.buzzTrend,a=e.poptw,o=e.ptop,l=e.timeline,c=e.tvBuzz,u=e.delayRail,d=e.transition,h=e.patrol,f=Boolean(n.errorType),p="zeromatch"===n.errorType&&!r.imageVideoMode,m="longQuery"===n.errorType;return(0,ne.jsxs)("div",{className:"sub",children:[(null===i||void 0===i?void 0:i.subTop)&&(0,ne.jsx)(E.Z,{yadsItem:i.subTop,id:"subTop"}),!f&&(d?(0,ne.jsx)(D.Z,{key:"Chart".concat(t),transition:d,timeline:l}):(0,ne.jsx)(C.Z,{title:"\u30dd\u30b9\u30c8\u6570\u30b0\u30e9\u30d5",isSubColumn:!0})),o&&(0,ne.jsx)(R.Z,se({},o)),!m&&(s?(0,ne.jsx)(I.Z,se({},se(se({},s),{},{maxLength:h?100:20,defaultLength:h?100:p?20:10,excursion:!0}))):(0,ne.jsx)(C.Z,{title:"\u30c8\u30ec\u30f3\u30c9",isSubColumn:!0})),!m&&(null===i||void 0===i?void 0:i.subMiddle)&&(0,ne.jsx)(W.Z,{yadsItem:i.subMiddle,id:"subMiddle"}),!m&&!p&&(a?(0,ne.jsx)(O.Z,se({},se(se({},a),{},{results:10,showTitle:!0,excursion:!0}))):(0,ne.jsx)(C.Z,{title:"\u4eba\u6c17\u30dd\u30b9\u30c8",isSubColumn:!0})),!m&&!p&&(c?(0,ne.jsx)(N.Z,se({},c)):(0,ne.jsx)(C.Z,{title:"\u30c6\u30ec\u30d3",isSubColumn:!0})),!m&&!p&&(u?(0,ne.jsx)(T.Z,se({},u)):(0,ne.jsx)(C.Z,{title:"\u96fb\u8eca\u9045\u5ef6",isSubColumn:!0})),!m&&!p&&u&&(0,ne.jsx)(Z.Z,{}),!m&&!p&&(null===i||void 0===i?void 0:i.subBottom)&&(0,ne.jsx)(W.Z,{yadsItem:i.subBottom,id:"subBottom"})]})}},{key:"renderTimeline",value:function(){var e=this.props,t=e.query,r=e.login,n=e.bestTweet,i=e.timeline,s=e.timelineSettings,a=e.pagination,o=e.autoscroll,l=e.sort,c=e.term,u=e.patrol;return(0,ne.jsxs)("div",{ref:this.timelineRef,children:[i&&o&&!c&&!u&&(0,ne.jsx)(z.ZP,{query:t,login:r,autoscroll:o,timelineSettings:s}),n&&(0,ne.jsx)(q.Z,{query:t,login:r,tweet:n,bestTweetLabel:s.bestTweetLabel,showViolationReport:s.showViolationReport,showMuteMenuList:s.showMuteMenuList,androidTablet:s.androidTablet,patrol:u}),i&&(0,ne.jsx)(te.ZP,{query:t,login:r,timeline:i,timelineSettings:s,pagination:a,sort:l,patrol:u})]})}},{key:"renderError",value:function(){var e=this.props.searchError;return"zeromatch"===e.errorType?this.renderZeroMatch():(0,ne.jsx)($.Z,{errorType:e.errorType})}},{key:"renderZeroMatch",value:function(){var e=this.props,t=e.searchError,r=e.query,n=e.timelineSettings,i=e.poptw;return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(re.Z,{titleQuery:r,imageVideoMode:n.imageVideoMode,showHint:!0,showQueryHint:!0,cancelTermUrl:t.cancelTermUrl,webSearchQuery:r}),!n.imageVideoMode&&i&&(0,ne.jsx)(O.Z,se({},se(se({},i),{},{results:10,showTitle:!0})))]})}},{key:"renderFooter",value:function(){var e=this.props,t=e.autoscroll,r=e.footer,n=e.imageModalState;return(0,ne.jsxs)("div",{children:[(0,ne.jsx)(X.Z,{autoscroll:t}),(0,ne.jsx)(w.Z,{}),r&&(0,ne.jsx)(k.Z,se({},r)),n.isVisible&&(0,ne.jsx)(V.ZP,{})]})}},{key:"render",value:function(){return(0,ne.jsxs)(ne.Fragment,{children:[this.renderHeader(),(0,ne.jsxs)("div",{id:"contentsBody",className:"body content--990",children:[this.renderBodyMain(),this.renderBodySub()]}),this.renderFooter()]})}}]),r}(c.Component),le=(0,h.$j)((function(e){return{imageModalState:e.imageModalState,muteState:e.muteState}}),(function(e){return{setCurrentTimeStamp:function(t){e((0,p.A)(t))},setMuteCount:function(t){e((0,f.W)(t))}}}))(oe),ce=r(13791),ue=r(25714),de=r(42309),he=r(9785),fe=r(58430),pe=r(60550),me=r(89432),ve=r(12033),xe=r(932),ge=r(79874),je=r(14527),be=r(9733),ye=r(3237),Ze=r(81991),we=r(71234),De=r(19343),Te=r(58419),Se=r(79654),ke=r(94474),Me=r(41465),_e=r(83193),Ce=r(84458);function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Re(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,b.Z)(e);if(t){var i=(0,b.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,j.Z)(this,r)}}var Pe=function(e){(0,g.Z)(r,e);var t=Re(r);function r(e){var n;(0,m.Z)(this,r),n=t.call(this,e),(0,i.Z)((0,x.Z)(n),"refreshTimer",void 0),n.onRefresh=n.onRefresh.bind((0,x.Z)(n)),n.renderTimeline=n.renderTimeline.bind((0,x.Z)(n)),n.renderError=n.renderError.bind((0,x.Z)(n));var s=n.props,a=s.timestamp;return(0,s.setCurrentTimeStamp)(a),n}return(0,v.Z)(r,[{key:"onRefresh",value:function(){(0,this.props.setCurrentTimeStamp)(Math.floor(Date.now()/1e3))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.muteUsersCount,r=e.setMuteCount;this.refreshTimer=setInterval(this.onRefresh,1e4),r(t)}},{key:"componentWillUnmount",value:function(){clearInterval(this.refreshTimer)}},{key:"renderTimeline",value:function(){var e=this.props,t=e.query,r=e.login,n=e.timeline,i=e.timelineSettings,s=e.sort,a=e.tlLink,o=e.bestTweet,l=e.yads,c=e.pagination,u=e.autoscroll,d=e.transition,h=e.unit,f=e.relatedBuzz,p=e.relatedHashtag;return(0,ne.jsxs)(ne.Fragment,{children:[n&&u&&(0,ne.jsx)(ge.ZP,{autoscroll:u,query:t,login:r,timelineSettings:i}),o&&(0,ne.jsx)(je.Z,{query:t,login:r,tweet:o,bestTweetLabel:i.bestTweetLabel,showViolationReport:i.showViolationReport,showMuteMenuList:i.showMuteMenuList}),n&&(0,ne.jsx)(Se.ZP,{query:t,login:r,bestTweet:o,timeline:n,timelineSettings:i,pagination:c,transition:d,sort:s,yads:l,tlLink:a,children:(0,ne.jsxs)(ke.Z,{isBottomHelper:!0,children:[f&&(0,ne.jsx)(ye.Z,Oe({},Oe(Oe({},f),{},{sec:"ft".concat(f.sec),cover:Boolean(p)}))),h&&!f&&(0,ne.jsx)(_e.Z,Oe({},Oe(Oe({},h),{},{cover:Boolean(p)}))),p&&(0,ne.jsx)(Ze.Z,Oe({},Oe(Oe({},p),{},{cover:Boolean(f)||Boolean(h)})))]})})]})}},{key:"renderError",value:function(){var e=this.props.searchError;return"zeromatch"===e.errorType?this.renderZeroMatch():(0,ne.jsx)(we.Z,{errorType:e.errorType})}},{key:"renderZeroMatch",value:function(){var e=this.props,t=e.searchError,r=e.query,n=e.timelineSettings;return(0,ne.jsx)(Ce.Z,{titleQuery:r,imageMode:n.imageMode,videoMode:n.videoMode,showHint:!0,showQueryHint:!0,cancelTermUrl:t.cancelTermUrl,webSearchQuery:r})}},{key:"render",value:function(){var e=this.props,t=e.message,r=e.relatedBuzz,n=e.searchNavi,i=e.poptw,s=e.buzzTrend,a=e.pickupMigratory,o=e.ptop,l=e.footer,c=e.searchError,u=e.speller,d=e.term,h=e.suicideCheck,f=Boolean(c.errorType);return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)("div",{id:"header",children:n&&(0,ne.jsx)(De.Z,Oe({},n))}),(0,ne.jsxs)("div",{id:"contentsInner",children:[(0,ne.jsx)(ue.Z,{}),t&&(0,ne.jsx)(he.Z,Oe({},t)),(0,ne.jsx)(fe.Z,{}),o&&(0,ne.jsx)(me.Z,Oe({},o)),h&&(0,ne.jsx)(xe.Z,{}),(0,ne.jsxs)(ke.Z,{children:[d&&d.since&&d.until&&(0,ne.jsx)(Te.Z,Oe({},d)),u&&(0,ne.jsx)(ve.Z,Oe({},u)),!f&&r&&(0,ne.jsx)(ye.Z,Oe({},Oe(Oe({},r),{},{enableLogging:!0})))]}),(0,ne.jsx)(ce.Z,{children:f?this.renderError():this.renderTimeline()}),s&&(0,ne.jsx)(Me.Z,Oe({},s)),a&&(0,ne.jsx)(be.Z,Oe({},Oe(Oe({},a),{},{count:5}))),i&&(0,ne.jsx)(pe.Z,Oe({},Oe(Oe({},i),{},{results:70,showTitle:!0}))),l&&(0,ne.jsx)(de.Z,Oe({},l))]})]})}}]),r}(c.Component),Fe=(0,h.$j)((function(e){return{timelineState:e.timelineState,muteState:e.muteState}}),(function(e){return{setCurrentTimeStamp:function(t){e((0,p.A)(t))},setMuteCount:function(t){e((0,f.W)(t))}}}))(Pe),Be=r(191),Ne=r(48754),Xe=r(85803),Ie=r(882),Ae=r(9950),Ee=r(68644),He=r(40356),We=r(12549),Ue=r(66699),ze=r(53),qe=(r(21249),r(41817),r(92222),r(68342)),Ve=r.n(qe);function Ye(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,b.Z)(e);if(t){var i=(0,b.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,j.Z)(this,r)}}var Qe=function(e){(0,g.Z)(r,e);var t=Ye(r);function r(e){var n;return(0,m.Z)(this,r),(n=t.call(this,e)).state={showJIAA:!1,displayUrl:""},n.showPopup=n.showPopup.bind((0,x.Z)(n)),n.closePopup=n.closePopup.bind((0,x.Z)(n)),n}return(0,v.Z)(r,[{key:"showPopup",value:function(e){this.setState({showJIAA:!0,displayUrl:e})}},{key:"closePopup",value:function(){this.setState({showJIAA:!1,displayUrl:""})}},{key:"render",value:function(){var e=this,t=this.props,r=t.items,n=t.cookieSyncSetUrl,i=t.cookieSyncVerifyUrl;return(0,ne.jsx)(ce.Z,{children:(0,ne.jsxs)("div",{className:Ve().SS,children:[(0,ne.jsx)("ul",{children:r.map((function(t,r){return(0,ne.jsx)("li",{children:(0,ne.jsxs)("article",{children:[(0,ne.jsxs)("a",{href:t.url,children:[(0,ne.jsx)("h1",{dangerouslySetInnerHTML:{__html:t.text}}),(0,ne.jsx)("span",{children:t.displayUrl}),(0,ne.jsx)("p",{dangerouslySetInnerHTML:{__html:t.description}})]}),(0,ne.jsx)("span",{onClick:e.showPopup.bind(void 0,t.displayUrl),className:Ve().icon,"aria-hidden":"true"})]})},r)}))}),this.state.showJIAA&&(0,ne.jsx)("div",{onClick:this.closePopup,className:Ve().popUp,children:(0,ne.jsxs)("article",{onClick:function(e){e.stopPropagation()},children:[(0,ne.jsx)("h1",{children:this.state.displayUrl}),(0,ne.jsx)("p",{children:"\u3053\u306e\u5e83\u544a\u306f\u6b21\u306e\u60c5\u5831\u306b\u57fa\u3065\u3044\u3066\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002"}),(0,ne.jsxs)("p",{children:[(0,ne.jsx)("span",{children:"\u30fb"}),"\u73fe\u5728\u306e\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9",(0,ne.jsx)("br",{}),(0,ne.jsx)("span",{children:"\u30fb"}),"\u904e\u53bb\u306e\u691c\u7d22\u5185\u5bb9\u304a\u3088\u3073\u4f4d\u7f6e\u60c5\u5831"]}),(0,ne.jsxs)("ul",{children:[(0,ne.jsx)("li",{children:(0,ne.jsx)("span",{onClick:this.closePopup,className:Ve().close,children:"\u9589\u3058\u308b"})}),(0,ne.jsx)("li",{children:(0,ne.jsx)("a",{href:"https://btoptout.yahoo.co.jp/optout/index.html",children:"\u3055\u3089\u306b\u8a73\u3057\u304f"})})]})]})}),(0,ne.jsx)("script",{src:"https://extsearch.yahoo.co.jp/js/rusk.min.js",charSet:"utf-8"}),(0,ne.jsx)("script",{type:"text/javascript",dangerouslySetInnerHTML:{__html:"YAHOO.JP.srch.rusk.onLoad(function(rusk) {\n                rusk.setParams({\n                  cookieName: 'JV',\n                  setUrl: '".concat(n||"","',\n                  verifyUrl: '").concat(i||"","'\n                });\n              });")}})]})})}}]),r}(c.Component),Je=Qe,$e=r(48577),Ge=r(94184),Ke=r.n(Ge),et=r(80385),tt=r.n(et);function rt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,b.Z)(e);if(t){var i=(0,b.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,j.Z)(this,r)}}var nt=function(e){(0,g.Z)(r,e);var t=rt(r);function r(){return(0,m.Z)(this,r),t.apply(this,arguments)}return(0,v.Z)(r,[{key:"render",value:function(){var e,t=this.props,r=t.hide,n=t.children;if(0===c.Children.toArray(n).filter((function(e){return c.isValidElement(e)})).length)return null;var s=Ke()((e={},(0,i.Z)(e,tt().TimelineFollowWrapper,!0),(0,i.Z)(e,tt().hide,r),e));return(0,ne.jsx)("div",{className:s,children:n})}}]),r}(c.Component),it=nt,st=r(75311),at=r(23310);function ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ct(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,b.Z)(e);if(t){var i=(0,b.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,j.Z)(this,r)}}var ut=function(e){(0,g.Z)(r,e);var t=ct(r);function r(e){var n;(0,m.Z)(this,r),n=t.call(this,e),(0,i.Z)((0,x.Z)(n),"context",void 0),(0,i.Z)((0,x.Z)(n),"refreshTimer",void 0),(0,i.Z)((0,x.Z)(n),"timelineRef",void 0),(0,i.Z)((0,x.Z)(n),"searchWrapperRef",void 0),(0,i.Z)((0,x.Z)(n),"timelineHelperWrapperRef",void 0),n.state={showToTopButton:!1,lastPosition:0,fixedSearchBox:!1,hideSearchBox:!1,hideBottomWrappter:!1},n.handleScroll=n.handleScroll.bind((0,x.Z)(n)),n.toggleHideBottomWrappter=n.toggleHideBottomWrappter.bind((0,x.Z)(n)),n.onRefresh=n.onRefresh.bind((0,x.Z)(n)),n.renderTimeline=n.renderTimeline.bind((0,x.Z)(n)),n.renderError=n.renderError.bind((0,x.Z)(n)),n.cancelFixedSearchPosition=n.cancelFixedSearchPosition.bind((0,x.Z)(n));var s=n.props,a=s.query,o=s.timestamp,l=s.setCurrentTimeStamp,u=s.setQuery;return l(o),u(a),n.timelineRef=c.createRef(),n.searchWrapperRef=c.createRef(),n.timelineHelperWrapperRef=c.createRef(),n}return(0,v.Z)(r,[{key:"onRefresh",value:function(){(0,this.props.setCurrentTimeStamp)(Math.floor(Date.now()/1e3))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.searchPopProps,r=e.muteUsersCount,n=e.setMuteCount;this.refreshTimer=setInterval(this.onRefresh,1e4),window.addEventListener("scroll",this.handleScroll),(0,Ne.vY)(),t&&(0,y.$)(lt(lt({},t),{},{target:this.timelineRef.current||void 0})),n(r)}},{key:"componentWillUnmount",value:function(){clearInterval(this.refreshTimer),window.removeEventListener("scroll",this.handleScroll),(0,Ne.$w)()}},{key:"handleScroll",value:function(){this.setState({showToTopButton:window.pageYOffset>1.5*window.innerHeight});var e=0===window.scrollY?this.state.lastPosition:window.scrollY,t=this.searchWrapperRef.current?this.searchWrapperRef.current.getBoundingClientRect().top:0,r=this.timelineHelperWrapperRef.current?this.timelineHelperWrapperRef.current.getBoundingClientRect().y:0;this.setState({lastPosition:e,fixedSearchBox:t<=0,hideSearchBox:t<-51&&e>this.state.lastPosition,hideBottomWrappter:r<window.innerHeight})}},{key:"cancelFixedSearchPosition",value:function(e){this.setState({fixedSearchBox:!1},(function(){e&&window.scrollTo(0,e)}))}},{key:"toggleHideBottomWrappter",value:function(e){this.setState({hideBottomWrappter:e})}},{key:"renderHeader",value:function(){var e=this.props,t=e.mhd,r=e.searchbox,n=e.searchNavi;return(0,ne.jsxs)("div",{children:[t&&(0,ne.jsx)(Ie.Z,lt({},t)),(0,ne.jsxs)(Ee.Z,{forwardedRef:this.searchWrapperRef,fixed:this.state.fixedSearchBox,hide:this.state.hideSearchBox,children:[r&&(0,ne.jsx)(Ae.ZP,lt({},lt(lt({},r),{},{hasHeader:!0,lastPosition:this.state.lastPosition,cancelFixedSearchPosition:this.cancelFixedSearchPosition}))),n&&(0,ne.jsx)(De.Z,lt({},n))]})]})}},{key:"renderHeaderApp",value:function(){var e=this.props.searchNavi;return(0,ne.jsx)("div",{children:e&&(0,ne.jsx)($e.Z,lt({},e))})}},{key:"renderTimeline",value:function(){var e=this.props,t=e.view,r=e.query,n=e.login,i=e.timeline,s=e.timelineSettings,a=e.sort,o=e.tlLink,l=e.bestTweet,c=e.yads,u=e.pagination,d=e.autoscroll,h=e.transition,f="yjapp"!==t;return(0,ne.jsxs)("div",{ref:this.timelineRef,children:[i&&d&&(0,ne.jsx)(ge.ZP,{autoscroll:d,query:r,login:n,timelineSettings:s,follow:f,hideSearch:this.state.hideSearchBox}),l&&(0,ne.jsx)(je.Z,{query:r,login:n,tweet:l,imageMode:s.imageMode,bestTweetLabel:s.bestTweetLabel,showViolationReport:s.showViolationReport,showMuteMenuList:s.showMuteMenuList}),i&&(0,ne.jsx)(Se.ZP,{query:r,login:n,bestTweet:l,timeline:i,timelineSettings:s,pagination:u,follow:f,toggleHideBottomWrappter:this.toggleHideBottomWrappter,transition:h,sort:a,yads:c,tlLink:o,children:f?this.renderTimelineFooter():this.renderTimelineFooterApp()})]})}},{key:"renderTimelineFooter",value:function(){var e=this.props,t=e.unit,r=e.relatedBuzz,n=e.relatedHashtag;return(0,ne.jsxs)("div",{ref:this.timelineHelperWrapperRef,children:[(0,ne.jsxs)(it,{hide:this.state.hideBottomWrappter,children:[r&&(0,ne.jsx)(ye.Z,lt({},lt(lt({},r),{},{sec:"ft".concat(r.sec),cover:Boolean(n)}))),t&&!r&&(0,ne.jsx)(_e.Z,lt({},lt(lt({},t),{},{cover:Boolean(n)})))]}),(0,ne.jsx)(ke.Z,{isBottomHelper:!0,children:n&&(0,ne.jsx)(Ze.Z,lt({},n))})]})}},{key:"renderTimelineFooterApp",value:function(){var e=this.props,t=e.unit,r=e.relatedBuzz,n=e.relatedHashtag;return(0,ne.jsxs)(ke.Z,{isBottomHelper:!0,children:[r&&(0,ne.jsx)(ye.Z,lt({},lt(lt({},r),{},{sec:"ft".concat(r.sec),cover:Boolean(n)}))),t&&!r&&(0,ne.jsx)(_e.Z,lt({},lt(lt({},t),{},{cover:Boolean(n)}))),n&&(0,ne.jsx)(Ze.Z,lt({},lt(lt({},n),{},{cover:Boolean(r)||Boolean(t)})))]})}},{key:"renderError",value:function(){var e=this.props.searchError;return"zeromatch"===e.errorType?this.renderZeroMatch():(0,ne.jsx)(we.Z,{errorType:e.errorType})}},{key:"renderZeroMatch",value:function(){var e=this.props,t=e.searchError,r=e.query,n=e.timelineSettings;return(0,ne.jsx)(Ce.Z,{titleQuery:r,imageMode:n.imageMode,videoMode:n.videoMode,showHint:!0,showQueryHint:!0,cancelTermUrl:t.cancelTermUrl,webSearchQuery:r})}},{key:"render",value:function(){var e=this.props,t=e.searchModeState,r=e.view,n=e.message,i=e.poptw,s=e.buzzTrend,a=e.pickupMigratory,o=e.interestTheme,l=e.sameThemeOtherTopic,c=e.fandomTimeline,u=e.wordCloud,d=e.footer,h=e.searchError,f=e.speller,p=e.ss,m=e.term,v=e.suicideCheck,x=e.ptop,g=e.w2a,j=Boolean(h.errorType),b=void 0!==(null===s||void 0===s?void 0:s.timelineRanking);return(0,ne.jsxs)(ne.Fragment,{children:["yjapp"===r?this.renderHeaderApp():this.renderHeader(),(0,ne.jsxs)("div",{id:"contentsInner",style:{display:t.isSearchMode?"none":"block"},children:[(0,ne.jsx)(ue.Z,{}),n&&(0,ne.jsx)(he.Z,lt({},n)),(0,ne.jsx)(fe.Z,{}),x&&(0,ne.jsx)(me.Z,lt({},x)),v&&(0,ne.jsx)(xe.Z,{}),(0,ne.jsxs)(ke.Z,{children:[m&&m.since&&m.until&&(0,ne.jsx)(Te.Z,lt({},m)),f&&(0,ne.jsx)(ve.Z,lt({},f))]}),(0,ne.jsx)(ce.Z,{children:j?this.renderError():this.renderTimeline()}),p&&(0,ne.jsx)(Je,lt({},p)),l&&(0,ne.jsx)(Ue.Z,{sameThemeOtherTopic:l}),o&&c&&(0,ne.jsx)(We.Z,{interestTheme:o,fandomTimeline:c}),u&&(0,ne.jsx)(ze.Z,lt({},u)),b&&s&&(0,ne.jsx)(st.Z,lt({},lt(lt({},s),{},{rankingSize:10}))),!b&&s&&(0,ne.jsx)(Me.Z,lt({},lt(lt({},s),{},{link:"/realtime/trend"}))),a&&(0,ne.jsx)(be.Z,lt({},lt(lt({},a),{},{count:5}))),i&&(0,ne.jsx)(pe.Z,lt({},lt(lt({},i),{},{results:70,showTitle:!0}))),g&&(0,ne.jsx)(at.Z,lt({},g)),d&&(0,ne.jsx)(de.Z,lt({},d)),(0,ne.jsx)(He.Z,{isShow:this.state.showToTopButton})]})]})}}]),r}(c.Component);(0,i.Z)(ut,"contextType",Xe.c);var dt=(0,h.$j)((function(e){return{timelineState:e.timelineState,searchModeState:e.searchModeState,muteState:e.muteState}}),(function(e){return{setQuery:function(t){e((0,Be._)(t))},setCurrentTimeStamp:function(t){e((0,p.A)(t))},setMuteCount:function(t){e((0,f.W)(t))}}}))(ut);function ht(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ht(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,b.Z)(e);if(t){var i=(0,b.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,j.Z)(this,r)}}var mt=function(e){(0,g.Z)(r,e);var t=pt(r);function r(e){var n;(0,m.Z)(this,r),n=t.call(this,e),(0,i.Z)((0,x.Z)(n),"context",void 0),(0,i.Z)((0,x.Z)(n),"refreshTimer",void 0),n.onRefresh=n.onRefresh.bind((0,x.Z)(n)),n.renderTimeline=n.renderTimeline.bind((0,x.Z)(n)),n.renderError=n.renderError.bind((0,x.Z)(n));var s=n.props,a=s.timestamp;return(0,s.setCurrentTimeStamp)(a),n}return(0,v.Z)(r,[{key:"onRefresh",value:function(){(0,this.props.setCurrentTimeStamp)(Math.floor(Date.now()/1e3))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.muteUsersCount,r=e.setMuteCount;this.refreshTimer=setInterval(this.onRefresh,1e4),r(t)}},{key:"componentWillUnmount",value:function(){clearInterval(this.refreshTimer)}},{key:"renderTimeline",value:function(){var e=this.props,t=e.query,r=e.login,n=e.timeline,i=e.timelineSettings,s=e.sort,a=e.tlLink,o=e.bestTweet,l=e.yads,c=e.pagination,u=e.transition,d=e.relatedBuzz,h=e.relatedHashtag,f=e.unit;return(0,ne.jsxs)(ne.Fragment,{children:[o&&(0,ne.jsx)(je.Z,{query:t,login:r,tweet:o,bestTweetLabel:i.bestTweetLabel,showViolationReport:i.showViolationReport,showMuteMenuList:i.showMuteMenuList}),n&&(0,ne.jsx)(Se.ZP,{query:t,login:r,bestTweet:o,timeline:n,timelineSettings:i,pagination:c,transition:u,sort:s,yads:l,tlLink:a,children:(0,ne.jsxs)(ke.Z,{isBottomHelper:!0,children:[d&&(0,ne.jsx)(ye.Z,ft({},ft(ft({},d),{},{sec:"ft".concat(d.sec),cover:Boolean(h)}))),f&&!d&&(0,ne.jsx)(_e.Z,ft({},ft(ft({},f),{},{cover:Boolean(h)}))),h&&(0,ne.jsx)(Ze.Z,ft({},ft(ft({},h),{},{cover:Boolean(d)||Boolean(f)})))]})})]})}},{key:"renderError",value:function(){var e=this.props.searchError;return"zeromatch"===e.errorType?this.renderZeroMatch():(0,ne.jsx)(we.Z,{errorType:e.errorType})}},{key:"renderZeroMatch",value:function(){var e=this.props,t=e.searchError,r=e.query,n=e.timelineSettings;return(0,ne.jsx)(Ce.Z,{titleQuery:r,imageMode:n.imageMode,videoMode:n.videoMode,showHint:!0,showQueryHint:!0,cancelTermUrl:t.cancelTermUrl,webSearchQuery:r})}},{key:"render",value:function(){var e=this.props,t=e.message,r=e.searchNavi,n=e.buzzTrend,i=e.pickupMigratory,s=e.poptw,a=e.footer,o=e.searchError,l=e.speller,c=e.w2a,u=e.ptop,d=Boolean(o.errorType),h=void 0!==(null===n||void 0===n?void 0:n.timelineRanking);return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)("div",{children:r&&(0,ne.jsx)($e.Z,ft({},r))}),(0,ne.jsxs)("div",{id:"contentsInner",children:[(0,ne.jsx)(ue.Z,{}),t&&(0,ne.jsx)(he.Z,ft({},t)),u&&(0,ne.jsx)(me.Z,ft({},u)),(0,ne.jsx)(ke.Z,{children:l&&(0,ne.jsx)(ve.Z,ft({},l))}),(0,ne.jsx)(ce.Z,{children:d?this.renderError():this.renderTimeline()}),h&&n&&(0,ne.jsx)(st.Z,ft({},ft(ft({},n),{},{rankingSize:10}))),!h&&n&&(0,ne.jsx)(Me.Z,ft({},ft(ft({},n),{},{link:"/realtime/trend"}))),i&&(0,ne.jsx)(be.Z,ft({},ft(ft({},i),{},{count:5}))),s&&(0,ne.jsx)(pe.Z,ft({},ft(ft({},s),{},{results:70,link:"/realtime/poptw",showTitle:!0}))),c&&(0,ne.jsx)(at.Z,ft({},c)),a&&(0,ne.jsx)(de.Z,ft({},a))]})]})}}]),r}(c.Component);(0,i.Z)(mt,"contextType",Xe.c);var vt=(0,h.$j)((function(e){return{timelineState:e.timelineState,muteState:e.muteState}}),(function(e){return{setCurrentTimeStamp:function(t){e((0,p.A)(t))},setMuteCount:function(t){e((0,f.W)(t))}}}))(mt),xt=r(51355);function gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var bt=l()((function(){return Promise.all([r.e(9029),r.e(1711)]).then(r.bind(r,23985))}),{ssr:!1,loadableGenerated:{webpack:function(){return[23985]}}}),yt=function(e){var t=e.query,r=e.device,n=e.view,i=e.pageData;return"smartphone"===r?"yjapp"===n&&"simple"===t.style?(0,ne.jsx)(vt,jt({},i)):"rtsapp"===n?(0,ne.jsx)(Fe,jt({},i)):(0,ne.jsx)(dt,jt({},i)):(0,ne.jsx)(le,jt({},i))},Zt=function(e){var t=e.pageData,r=e.view,n=e.isInternal,i=e.debug;if(200!==t.status){var s="rtsapp"!==r;return(0,ne.jsx)("div",{id:"wrapper",children:(0,ne.jsx)(xt.default,{showLink:s})})}return(0,ne.jsx)(d.Z,{device:e.device,children:(0,ne.jsxs)("div",{id:"wrapper",children:[(0,ne.jsx)("div",{id:"contents",role:"main",children:yt(e)}),n&&i&&(0,ne.jsx)(bt,jt({},i))]})})};Zt.getInitialProps=function(){var e=(0,n.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.k)(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var wt=Zt},38434:function(e,t,r){"use strict";r(12419),r(47941),r(82526),r(38880),r(89554),r(54747),r(49337),r(33321),r(69070);var n=r(90116),i=r(50029),s=r(92777),a=r(82262),o=r(10748),l=r(45959),c=r(63553),u=r(37247),d=r(59499),h=(r(9653),r(19601),r(92222),r(69826),r(41539),r(43290),r(34553),r(21249),r(57327),r(65069),r(5212),r(74916),r(4723),r(2707),r(87794)),f=r.n(h),p=r(94184),m=r.n(p),v=r(17673),x=r(67294),g=r(46888),j=r(14195),b=r(75358),y=r(3023),Z=r(8081),w=r(14888),D=r(86108),T=r(4545),S=r(25048),k=r(26383),M=r(13481),_=r(73604),C=r(46208),L=r(43815),O=r(62576),R=r(21915),P=r(2056),F=r(71849),B=r(72608),N=r(49127),X=r(20968),I=r.n(X),A=r(85893);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,u.Z)(e);if(t){var i=(0,u.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,c.Z)(this,r)}}var U={h:{span:21600,interval:900,chartLabel:"M\u6708D\u65e5 H:mm",filterLabel:"M/D H:mm",spanLabel:"M/D H:mm",tooltipLabel:"H:mm",ticksLabel:"H:mm",axisTickFilter:[":[03]0$"],labelInterval:7200,tickInterval:1800},d:{span:86400,interval:900,chartLabel:"M\u6708D\u65e5 H:mm",filterLabel:"M/D H:mm",spanLabel:"M/D H:mm",tooltipLabel:"H:mm",ticksLabel:"H:mm",axisTickFilter:["[02468]:00$"],labelInterval:21600,tickInterval:7200},w:{span:604800,interval:3600,chartLabel:"M\u6708D\u65e5 H:mm",filterLabel:"M/D H:mm",spanLabel:"M/D H:mm",tooltipLabel:"M/D H:mm",ticksLabel:"M/D",axisTickFilter:[" 0:00$","12:00$"],labelInterval:86400,tickInterval:43200},m:{span:2592e3,interval:86400,chartLabel:"M\u6708D\u65e5 H:mm",filterLabel:"M/D H:mm",spanLabel:"M/D",tooltipLabel:"M/D",ticksLabel:"M/D",axisTickFilter:[" 0:00$"],labelInterval:604800,tickInterval:86400}},z=function(e){(0,l.Z)(r,e);var t=W(r);function r(e){var n,a,l;(0,s.Z)(this,r),l=t.call(this,e),(0,d.Z)((0,o.Z)(l),"settings",void 0),(0,d.Z)((0,o.Z)(l),"maxLabelProps",void 0),(0,d.Z)((0,o.Z)(l),"selectedLabelLeftProps",void 0),(0,d.Z)((0,o.Z)(l),"selectedLabelRightProps",void 0),(0,d.Z)((0,o.Z)(l),"loadChartData",function(){var e=(0,i.Z)(f().mark((function e(t,r){var n,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={isTransitionLoading:!0,isTransitionFailed:!1},s={transitionCount:l.state.transitionCount,transitionData:H({},l.state.transitionData),sentimentData:H({},l.state.sentimentData),samplingRate:l.state.samplingRate||void 0},l.setState(n,(0,i.Z)(f().mark((function e(){var n,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=l.state.samplingRate,e.next=4,(0,B.a)(t,H(H({},r),{},{samplingRate:n}));case 4:(i=e.sent).tweetTransition.head.totalResultsAvailable>=0&&(s.transitionCount=i.tweetTransition.head.totalResultsAvailable,s.transitionData=i.tweetTransition.entry,i.tweetTransition.head.recommendedSamplingRate>0&&(s.samplingRate=i.tweetTransition.head.recommendedSamplingRate)),i.sentimentPieChart&&i.sentimentPieChart.positive&&i.sentimentPieChart.negative?(s.sentimentData=i.sentimentPieChart,s.sentimentData.dataPositive=[{name:"positive",value:i.sentimentPieChart.positive}],s.sentimentData.dataNegative=[{name:"negative",value:i.sentimentPieChart.negative}]):s.sentimentData={shoulRender:!1,positive:0,negative:0,dataPositive:[],dataNegative:[]},a=l.setTransitionState(s.transitionData,s.transitionCount),l.setState(H(H({},s),a),(function(){l.settings.configured=!0,l.state.isTransitionInitial||setTimeout((function(){l.setState({hovered:!1})}),500),l.setState({isTransitionLoading:!1,isTransitionFailed:!1,isTransitionInitial:!0})})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),l.setState({isTransitionFailed:!0,isTransitionLoading:!1});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))));case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),(0,d.Z)((0,o.Z)(l),"changeTerm",(function(e){var t=l.props.transition;if(e?l.setState({term:e}):e=l.state.term,t){l.settings.configured=!1;var r=U[e],n=r.interval,i=r.span,s=l.props.transition.since,a=l.props.transition.until,o=(new Date).getTime()/1e3,c=H({},t.params);a&&Number(a)<o-i&&(c.until=a,c.sentimentUntil=a);var u=Object.assign(c,{interval:n,span:i,sentimentSince:s,sentimentUntil:a});u.since||delete u.since,u.until||delete u.until,l.loadChartData(t.path,H({},u))}})),(0,d.Z)((0,o.Z)(l),"tickFormat",(function(e){if(l.state.isTransitionLoading)return"";var t=U[l.state.term],r=t.labelInterval,n=t.ticksLabel;return l.state.ticks&&(e-l.state.ticks[0])%r===0?(0,F.rI)(new Date(1e3*e),n):""})),(0,d.Z)((0,o.Z)(l),"spanFormat",(function(){var e=l.props.transition,t=e.since,r=e.until;if(t||r)return"\n      ".concat(t&&(0,F.rI)(new Date(1e3*Number(t)),U[l.state.term].spanLabel)||"","\n       -\n      ").concat(r&&(0,F.rI)(new Date(1e3*Number(r)),U[l.state.term].spanLabel)||"","\n      ")})),(0,d.Z)((0,o.Z)(l),"yAxisTickFormat",(function(){return""})),(0,d.Z)((0,o.Z)(l),"brushTickFormat",(function(){return""})),(0,d.Z)((0,o.Z)(l),"tooltipFormat",(function(e){var t=l.state.term,r=(0,F.rI)(new Date,"D"),n=(0,F.rI)(new Date(1e3*e),"D");return("h"===t||"d"===t)&&Number(n)<Number(r)?(0,F.rI)(new Date(1e3*e),"M/D H:mm"):(0,F.rI)(new Date(1e3*e),U[t].tooltipLabel)})),(0,d.Z)((0,o.Z)(l),"renderTooltip",(function(e){if(e.active&&l.state.isTooltipActive){var t=l.state,r=t.maxData,n=t.minData,i=l.tooltipFormat(e.label),s=e.payload[0].value,a=e.coordinate.x<50?50-e.coordinate.x:e.viewBox.width-e.coordinate.x-13<20?e.viewBox.width-e.coordinate.x-13:void 0;return(0,A.jsxs)("div",{className:I().customtooltip,children:[i&&(0,A.jsx)("span",{className:I().label,style:{left:a},children:i}),s>=0&&(0,A.jsxs)("p",{className:"".concat(I().count," ").concat(r&&n&&s-n.count>(r.count-n.count)/2&&I().low||I().high),style:{left:a},children:[(0,A.jsx)("span",{className:I().number,children:s.toLocaleString()}),(0,A.jsx)("span",{className:I().unit,children:"\u4ef6"})]})]})}return""})),(0,d.Z)((0,o.Z)(l),"setRefLineLabelProps",(function(e){return l.maxLabelProps=e,""})),(0,d.Z)((0,o.Z)(l),"setSelectedRefLineLabelLeftProps",(function(e){return l.selectedLabelLeftProps=e,""})),(0,d.Z)((0,o.Z)(l),"setSelectedRefLineLabelRightProps",(function(e){return l.selectedLabelRightProps=e,""})),(0,d.Z)((0,o.Z)(l),"renderMaxRefLineLabel",(function(){return l.renderRefLineLabel(l.maxLabelProps)})),(0,d.Z)((0,o.Z)(l),"renderSelectedRefLineLeftLabel",(function(){return l.renderRefLineLabel(l.selectedLabelLeftProps,"left")})),(0,d.Z)((0,o.Z)(l),"renderSelectedRefLineRightLabel",(function(){return l.renderRefLineLabel(l.selectedLabelRightProps,"right")})),(0,d.Z)((0,o.Z)(l),"renderRefLineLabel",(function(e,t){var r,n,i;if(!e)return"";var s=null===(r=document.querySelector(".recharts-cartesian-grid"))||void 0===r?void 0:r.getBoundingClientRect().width,a=l.tooltipFormat(e.value),o=0,c=!1;if(t){var u=l.state,h=u.left.refX,f=u.right.refX,p=s&&l.state.left.cx<31?31-l.state.left.cx:s&&s-l.state.right.cx<31?31-(s-l.state.right.cx):0;l.state.right.cx-l.state.left.cx<62+p&&void 0!==h&&void 0!==f&&(a="".concat(l.tooltipFormat(h)," - ").concat(l.tooltipFormat(f)),c=!0),"left"===t&&(o=s&&s-e.viewBox.x-13<(c?40:20)?a.length>18?80:(a.length,20):0)}var v,x,g=s?e.viewBox.x<50?44:s-e.viewBox.x-13<(c?40:20)?"right"===t&&a.length<8?s-13:s-25:s-e.viewBox.x-13<(c?80:20)?s-100:e.viewBox.x:e.viewBox.x,j=null===(n=l.state.transitionData.find((function(t){return t.from===e.value})))||void 0===n?void 0:n.count,b=l.state,y=b.maxData,Z=b.minData,w=m()((i={},(0,d.Z)(i,I().count,!0),(0,d.Z)(i,I().low,j&&y&&Z&&j-Z.count>(y.count-Z.count)/2),(0,d.Z)(i,I().high,j&&y&&Z&&j-Z.count<=(y.count-Z.count)/2),i));return"right"===t&&c?(0,A.jsx)("div",{onMouseEnter:l.labelMouseEnter,onMouseLeave:l.labelMouseLeave,className:I().referenceLabel,style:{top:e.viewBox.y,left:g-31-o},children:void 0!==j&&(!t||t&&(null===(v=l.state[t])||void 0===v?void 0:v.isDragging))&&(0,A.jsxs)("p",{className:w,style:{position:"relative"},children:[(0,A.jsx)("span",{className:I().number,children:j.toLocaleString()}),(0,A.jsx)("span",{className:I().unit,children:"\u4ef6"})]})}):(0,A.jsxs)("div",{onMouseEnter:l.labelMouseEnter,onMouseLeave:l.labelMouseLeave,className:I().referenceLabel,style:{top:e.viewBox.y,left:g-31-o},children:[a&&(0,A.jsx)("div",{style:{position:"relative"},children:a}),void 0!==j&&(!t||t&&(null===(x=l.state[t])||void 0===x?void 0:x.isDragging))&&(0,A.jsxs)("p",{className:w,style:{position:"relative"},children:[(0,A.jsx)("span",{className:I().number,children:j.toLocaleString()}),(0,A.jsx)("span",{className:I().unit,children:"\u4ef6"})]})]})})),(0,d.Z)((0,o.Z)(l),"resetFilter",(function(){var e=l.state.transitionData.length-1,t={index:0,cx:0*l.settings.delta,refX:void 0,refY:void 0},r={index:e,cx:e*l.settings.delta,refX:void 0,refY:void 0};l.setState({left:Object.assign(H({},l.state.left),t),right:Object.assign(H({},l.state.right),r),areaOpacity:0},l.reloadWithFilter)})),(0,d.Z)((0,o.Z)(l),"reloadWithFilter",(function(){var e=l.props.transition.locationPath,t=l.state.transitionData,r=l.state,n=r.left.refX,i=r.right.refX,s=H({},l.props.transition.params);delete s.crumb,delete s.prof,delete s.rkf,delete s.b,delete s.interval,delete s.span;var a=n||i&&t[0].from,o=i||n&&t[t.length-1].from,c="".concat(e,"?").concat((0,v.stringify)(H(H({},s),{},{since:a,until:o,gm:l.state.term,samplingRate:l.state.samplingRate})));location.href=c})),(0,d.Z)((0,o.Z)(l),"areaMouseDown",(function(e,t){if(e&&t&&t.pageX){var r=l.state,n=r.left,i=r.right,s=e.activeTooltipIndex===l.state.transitionData.length-1?e.activeTooltipIndex-1:e.activeTooltipIndex,a=s>=0&&s<l.state.transitionData.length-1&&l.state.transitionData[s].from>=0?l.state.transitionData[s].from:void 0,o=s>=0&&s<l.state.transitionData.length-1&&l.state.transitionData[s].count>=0?l.state.transitionData[s].count:void 0,c=s+1>=0&&s+1<=l.state.transitionData.length-1&&l.state.transitionData[s+1].from>=0?l.state.transitionData[s+1].from:void 0,u=s+1>=0&&s+1<=l.state.transitionData.length-1&&l.state.transitionData[s+1].count>=0?l.state.transitionData[s+1].count:void 0;l.setState({left:H(H({},n),{},{lastIndex:n.index,index:s,cx:s*l.settings.delta,stroke:n.stroke,fill:n.fill,radius:n.radius,refX:a,refY:o}),right:H(H({},i),{},{lastIndex:i.index,index:s+1,cx:(s+1)*l.settings.delta,stroke:i.stroke,fill:i.fill,radius:i.radius,refX:c,refY:u}),isTooltipActive:!1}),l.setState({areaStartX:t.pageX})}})),(0,d.Z)((0,o.Z)(l),"areaMouseMove",(function(e,t){var r=l.state,n=r.areaStartX,i=r.left,s=r.right;t&&t.pageX&&n&&((i.isDragging&&n<=t.pageX||s.isDragging&&n>=t.pageX)&&(i.slideMoveStartX=void 0,i.isDragging=!1,s.slideMoveStartX=void 0,s.isDragging=!1),n<t.pageX&&!s.slideMoveStartX?l.brushDown("right",n):n>t.pageX&&!i.slideMoveStartX&&l.brushDown("left",n),l.brushMove(t.pageX))})),(0,d.Z)((0,o.Z)(l),"barTouchStart",(function(e,t){l.brushDown(e,t.touches[0].pageX)})),(0,d.Z)((0,o.Z)(l),"barMouseDown",(function(e,t){l.brushDown(e,t.pageX)})),(0,d.Z)((0,o.Z)(l),"brushDown",(function(e,t,r){var n=H({isDragging:!0,lastIndex:l.state[e].index,slideMoveStartX:t},l.settings.dot.normal),i=function(){r&&r()};"left"===e?l.setState({left:Object.assign(H({},l.state.left),n)},i):"right"===e&&l.setState({right:Object.assign(H({},l.state.right),n)},i)})),(0,d.Z)((0,o.Z)(l),"barMouseUp",(function(){var e=l.state,t=e.left,r=t.index,n=t.refX,i=t.refY,s=t.cx,a=e.right,o=a.index,c=a.refX,u=a.refY,d=a.cx,h=l.state,f=h.left.lastIndex,p=h.right.lastIndex;void 0!==r&&void 0!==o&&r===l.state.transitionData.length-1&&(r-=1,o-=1,n=l.state.transitionData[r].from,i=l.state.transitionData[r].count,c=l.state.transitionData[o].from,u=l.state.transitionData[o].count,s=(r+1)*l.settings.delta,d=(o+1)*l.settings.delta);var m=(f!==r||p!==o)&&H({},l.settings.dot.selected)||H({},l.settings.dot.normal),v=(p!==o||f!==r)&&H({},l.settings.dot.selected)||H({},l.settings.dot.normal);l.setState({left:Object.assign(H({},l.state.left),H({index:r,refX:n,refY:i,cx:s,isDragging:!1,slideMoveStartX:void 0},m)),right:Object.assign(H({},l.state.right),H({index:o,refX:c,refY:u,cx:d,isDragging:!1,slideMoveStartX:void 0},v)),areaStartX:void 0},(function(){r===f&&o===p||l.reloadWithFilter()}))})),(0,d.Z)((0,o.Z)(l),"barTouchMove",(function(e){e&&e.targetTouches&&l.brushMove(e.targetTouches[0].pageX)})),(0,d.Z)((0,o.Z)(l),"barMouseMove",(function(e,t){t&&t.pageX&&l.brushMove(t.pageX)})),(0,d.Z)((0,o.Z)(l),"brushMove",(function(e,t){var r=t||(l.state.left.isDragging?"left":l.state.right.isDragging&&"right");if(r){var n=l.state[r];if(n.isDragging&&void 0!==n.index){var i=n.slideMoveStartX&&e-n.slideMoveStartX||0,s=Math.floor(i/l.settings.delta),a=s*l.settings.delta,o=e<=0?0:n.index+s,c=e<=0?0:n.cx+a;if(o<0||o>=l.state.transitionData.length||"left"===r&&void 0!==l.state.right.index&&o>=l.state.right.index||"right"===r&&void 0!==l.state.left.index&&o<=l.state.left.index)return;var u=o>=0&&o<=l.state.transitionData.length-1&&l.state.transitionData[o].from>=0?l.state.transitionData[o].from:void 0,d=o>=0&&o<=l.state.transitionData.length-1&&l.state.transitionData[o].count>=0?l.state.transitionData[o].count:void 0;if(Math.abs(a)>0&&o>=0&&c>=0){var h=Object.assign(H({},l.state[r]),{index:o,cx:c,slideMoveStartX:e<=0?0:n.slideMoveStartX&&n.slideMoveStartX+a,stroke:n.stroke,fill:n.fill,radius:n.radius,refX:u,refY:d}),f=0===l.state.left.index&&l.state.right.index===l.state.transitionData.length-1?0:1;"left"===r?l.setState({left:h,areaOpacity:f}):"right"===r&&l.setState({right:h,areaOpacity:f})}}}})),(0,d.Z)((0,o.Z)(l),"barMouseOver",(function(e,t,r){null===r||void 0===r||r.stopPropagation(),"left"===e?l.setState({left:Object.assign(H({},l.state.left),{hovered:!0})}):"right"===e&&l.setState({right:Object.assign(H({},l.state.right),{hovered:!0})})})),(0,d.Z)((0,o.Z)(l),"barMouseOut",(function(e,t,r){"left"===e?l.setState({left:Object.assign(H({},l.state.left),{hovered:!1})}):"right"===e&&l.setState({right:Object.assign(H({},l.state.right),{hovered:!1})})})),(0,d.Z)((0,o.Z)(l),"rectMouseMove",(function(e){l.barMouseMove(void 0,e)})),(0,d.Z)((0,o.Z)(l),"rectMouseLeave",(function(e){})),(0,d.Z)((0,o.Z)(l),"areaMouseEnter",(function(e,t){l.state.areaStartX&&l.areaMouseMove(e,t),!l.state.hovered&&e.isTooltipActive?l.setState({hovered:!0}):l.state.hovered&&!e.isTooltipActive&&l.setState({hovered:!1})})),(0,d.Z)((0,o.Z)(l),"areaMouseLeave",(function(){l.setState({hovered:!1})})),(0,d.Z)((0,o.Z)(l),"labelMouseEnter",(function(){l.state.hovered||l.setState({hovered:!0})})),(0,d.Z)((0,o.Z)(l),"labelMouseLeave",(function(){l.setState({hovered:!1})})),(0,d.Z)((0,o.Z)(l),"renderHandle",(function(){var e=function(e,t,r){var n=l.settings,i=n.bar,s=i.y,a=i.offsetX,c=n.dot.strokeWidth;return(0,A.jsx)("circle",{className:"svg-circle-bg",cx:t.cx+a,cy:s,r:t.radius,stroke:t.stroke,fill:t.fill,strokeWidth:c,cursor:"pointer",onMouseDown:l.barMouseDown.bind((0,o.Z)(l),e),onMouseUp:l.barMouseUp,onMouseMove:l.barMouseMove,onMouseEnter:l.barMouseOver.bind((0,o.Z)(l),e),onMouseLeave:l.barMouseOut.bind((0,o.Z)(l),e),onTouchStart:l.barTouchStart.bind((0,o.Z)(l),e),onTouchEnd:l.barMouseUp,onTouchMove:l.barTouchMove},"handle".concat(r))};return l.state.left.hovered?[e("right",l.state.right,0),e("left",l.state.left,1)]:[e("left",l.state.left,0),e("right",l.state.right,1)]}));var u=l.props.transition;return u?(l.settings={chart:{width:300,height:210,margin:{top:20,right:14,bottom:0,left:12},top:"dataMax+10",bottom:0,animation:!0},bar:{width:272,x:0,y:193,color:"#20A2F1",offsetX:14},dot:{strokeWidth:2,radius:9,normal:{stroke:"#FFFFFF",fill:"#20A2F1",radius:10},selected:{stroke:"#20A2F1",fill:"#FFFFFF",radius:9}},delta:1,configured:!1},l.state={left:{index:void 0,cx:0,lastIndex:void 0,isDragging:!1,slideMoveStartX:void 0,stroke:"#FFFFFF",fill:l.settings.bar.color,radius:l.settings.dot.radius,refX:void 0,refY:void 0,hovered:!1},right:{index:void 0,cx:0,lastIndex:void 0,isDragging:!1,slideMoveStartX:void 0,stroke:"#FFFFFF",fill:l.settings.bar.color,radius:l.settings.dot.radius,refX:void 0,refY:void 0,hovered:!1},areaOpacity:0,selected:!1,startIndex:0,endIndex:10,fill:"#F7F7F7",term:u.gm,maxData:void 0,minData:void 0,hovered:!1,totalCount:null===(n=l.props.timeline)||void 0===n||null===(a=n.head)||void 0===a?void 0:a.totalResultsAvailable,isTransitionLoading:!1,isTransitionFailed:!1,isTransitionInitial:!1,transitionCount:0,transitionData:[],sentimentData:{shoulRender:!1,positive:0,negative:0,dataPositive:[],dataNegative:[]},isTooltipActive:!0,samplingRate:l.props.transition.params.samplingRate||void 0},l):(0,c.Z)(l)}return(0,a.Z)(r,[{key:"setTransitionState",value:function(e,t){var r,i,s=this,a=function(){var e=s.props.transition,t=e.since,r=e.until;return{since:t?Number(t):0,until:r?Number(r):0}}(),o=a.since,l=a.until,c=e.findIndex((function(e){return"w"===s.state.term?e.from===(0,F.dO)(new Date(1e3*Number(o)),36e5)/1e3:"m"===s.state.term?e.from===((0,F.dO)(new Date(1e3*Number(o)),864e5)- -54e6)/1e3:e.from===o})),u=e.findIndex((function(e){return"w"===s.state.term?e.from===(0,F.NG)(new Date(1e3*Number(l)),36e5)/1e3:"m"===s.state.term?e.from===((0,F.NG)(new Date(1e3*Number(l)),864e5)-324e5)/1e3:e.from===l}));this.settings.delta=this.settings.bar.width/(e.length-1);var d=-1!==c&&c||0,h=-1!==u&&u||e.length-1,f=-1===c&&-1===u?0:1,p=-1!==c&&H({},this.settings.dot.selected)||H({},this.settings.dot.normal),m=-1!==u&&H({},this.settings.dot.selected)||H({},this.settings.dot.normal),v=function(){var t=(0,n.Z)(e).reverse().filter((function(e){var t=(0,F.rI)(new Date(1e3*e.from),U[s.state.term].filterLabel);return U[s.state.term].axisTickFilter.some((function(e){return t.match(e)}))})).map((function(e){return e.from})),r=U[s.state.term].tickInterval;return t.filter((function(e){return(e-t[0])%r===0}))}();return{maxData:(0,n.Z)(e).sort((function(e,t){return t.count-e.count}))[0],minData:(0,n.Z)(e).sort((function(e,t){return e.count-t.count}))[0],totalCount:0!==o&&0!==l?null===(r=this.props.timeline)||void 0===r||null===(i=r.head)||void 0===i?void 0:i.totalResultsAvailable:t,left:H(H({index:d,lastIndex:d,cx:d&&d*this.settings.delta||0,isDragging:!1,slideMoveStartX:void 0},p),{},{refX:-1!==c&&e[c].from>=0?e[c].from:void 0,refY:-1!==c&&e[c].count>=0?e[c].count:void 0}),right:H(H({index:h,cx:h&&h*this.settings.delta||this.settings.bar.width,lastIndex:h,isDragging:!1,slideMoveStartX:void 0},m),{},{refX:-1!==u&&e[u].from>=0?e[u].from:void 0,refY:-1!==u&&e[u].count>=0?e[u].count:void 0}),areaOpacity:f,ticks:v}}},{key:"componentDidMount",value:function(){this.changeTerm()}},{key:"componentDidUpdate",value:function(){P.J3.isTargetModule("graph")?P.J3.refreshModule("graph"):P.J3.addModulesWithViewability("graph")}},{key:"render",value:function(){var e,t,r,n=this.props.transition,i=n.since,s=n.until,a=n.title,o=this.state,l=this.state,c=l.left,u=l.right,h=l.areaOpacity,f=l.maxData,p=l.term,v=l.hovered,x=l.labelHovered,P=l.totalCount,F=l.ticks,B=l.isTooltipActive,X=this.settings,E=X.bar,W=E.x,U=E.y,z=E.width,q=E.color,V=E.offsetX,Y=X.dot.strokeWidth,Q=c.index&&c.index/(o.transitionData.length-1)*100||0,J=u.index&&u.index/(o.transitionData.length-1)*100||100,$=Math.floor(90+3.6*o.sentimentData.positive),G=Math.floor(90-3.6*o.sentimentData.negative),K=m()((e={},(0,d.Z)(e,I().Chart,!0),(0,d.Z)(e,"target_modules_viewability",!0),e));return!o.isTransitionInitial&&(0,A.jsx)("div",{className:I().Loading,children:(0,A.jsx)(O.Z,{})})||o.transitionData&&o.transitionData.length>0&&(0,A.jsxs)("div",{id:"graph",className:K,children:[(0,A.jsxs)("p",{className:I().title,children:[a&&"".concat(a,"\u306e"),"\u30dd\u30b9\u30c8\u6570\u30b0\u30e9\u30d5"]}),(0,A.jsxs)("div",{className:I().panel,children:[(0,A.jsxs)("div",{className:I().spanTab,children:[(0,A.jsxs)("ul",{children:[(0,A.jsx)("li",{onClick:this.changeTerm.bind(this,"h"),children:(0,A.jsx)("em",{className:"h"===p&&I().selected||"",children:(0,A.jsx)("a",{"data-cl-params":(0,R.cl)({_cl_link:"period",_cl_position:"1"}),children:"6\u6642\u9593"})})}),(0,A.jsx)("li",{onClick:this.changeTerm.bind(this,"d"),children:(0,A.jsx)("em",{className:"d"===p&&I().selected||"",children:(0,A.jsx)("a",{"data-cl-params":(0,R.cl)({_cl_link:"period",_cl_position:"2"}),children:"24\u6642\u9593"})})}),(0,A.jsx)("li",{onClick:this.changeTerm.bind(this,"w"),children:(0,A.jsx)("em",{className:"w"===p&&I().selected||"",children:(0,A.jsx)("a",{"data-cl-params":(0,R.cl)({_cl_link:"period",_cl_position:"3"}),children:"7\u65e5"})})}),(0,A.jsx)("li",{onClick:this.changeTerm.bind(this,"m"),children:(0,A.jsx)("em",{className:"m"===p&&I().selected||"",children:(0,A.jsx)("a",{"data-cl-params":(0,R.cl)({_cl_link:"period",_cl_position:"4"}),children:"30\u65e5"})})})]}),(0,A.jsx)("hr",{})]}),(i||s)&&(0,A.jsxs)("div",{className:I().term,children:[(0,A.jsx)("p",{children:this.spanFormat()}),(0,A.jsx)("em",{onClick:this.resetFilter,onTouchStart:this.resetFilter,children:(0,A.jsx)("a",{"data-cl-params":(0,R.cl)({_cl_link:"reset"}),children:"\u89e3\u9664"})})]}),(0,A.jsx)("div",{className:I().totalCount,children:(0,A.jsxs)("p",{children:[(0,A.jsx)("span",{children:P&&P.toLocaleString()||0}),"\u4ef6\u306e\u30dd\u30b9\u30c8"]})}),(0,A.jsx)("hr",{}),(0,A.jsxs)("div",{className:I().transition,children:[(0,A.jsx)("p",{children:"\u30dd\u30b9\u30c8\u6570\u306e\u63a8\u79fb"}),!o.isTransitionFailed&&o.transitionData.length>0&&(0,A.jsxs)(g.T,H(H({},H(H({},this.settings.chart),{},{data:o.transitionData})),{},{onMouseMove:this.areaMouseEnter,onMouseLeave:this.areaMouseLeave,onMouseDown:this.areaMouseDown,onMouseUp:this.barMouseUp,children:[(0,A.jsx)(j.q,{stroke:"#F7F7F7",fill:"#F7F7F7"}),(0,A.jsx)(b.B,{dataKey:"count",domain:[function(e){return.8*e},function(e){return 1.2*e}],tickFormatter:this.yAxisTickFormat,axisLine:{stroke:"#DDDDDD"},tickSize:0,width:1}),(0,A.jsx)(y.K,{dataKey:"from",domain:["dataMin","dataMax"],tickFormatter:this.tickFormat,tick:{fill:"#333333",fontSize:11},tickSize:4,tickLine:{stroke:"#DDDDDD"},axisLine:{stroke:"#DDDDDD",strokeWidth:"1"},height:50,interval:0,ticks:F}),c.refX&&(0,A.jsx)(Z.z,{className:"recharts-refarea",fillOpacity:.8,x1:o.transitionData[0].from,x2:c.refX,fill:"#eaeaea"}),u.refX&&(0,A.jsx)(Z.z,{fillOpacity:.8,isFront:!1,x1:u.refX,x2:o.transitionData[o.transitionData.length-1].from,fill:"#eaeaea"}),(0,A.jsx)(w.u,{isAnimationActive:!1,offset:-35,position:{y:-3},cursor:B&&{stroke:"#999999",strokeDasharray:"2 2"}||!1,content:this.renderTooltip,allowEscapeViewBox:{x:!0},active:B,wrapperStyle:{outline:"none"}}),(0,A.jsxs)("defs",{children:[(0,A.jsxs)("linearGradient",{id:"countLine",x1:"0%",y1:"0",x2:"100%",y2:"0",children:[(0,A.jsx)("stop",{offset:"0%",stopColor:"#ccc"}),(0,A.jsx)("stop",{offset:"".concat(Q,"%"),stopColor:"#ccc"}),(0,A.jsx)("stop",{offset:"".concat(Q,"%"),stopColor:"#20A2F1"}),(0,A.jsx)("stop",{offset:"".concat(J,"%"),stopColor:"#20A2F1"}),(0,A.jsx)("stop",{offset:"".concat(J,"%"),stopColor:"#ccc"}),(0,A.jsx)("stop",{offset:"100%",stopColor:"#ccc"})]}),(0,A.jsxs)("linearGradient",{id:"countArea",x1:"0%",y1:"0",x2:"100%",y2:"0",children:[(0,A.jsx)("stop",{offset:"0%",stopColor:"rgba(234,234,234,0.2)"}),(0,A.jsx)("stop",{offset:"".concat(Q,"%"),stopColor:"rgba(234,234,234,0.2)"}),(0,A.jsx)("stop",{offset:"".concat(Q,"%"),stopColor:"rgba(29,161,242,0.2)"}),(0,A.jsx)("stop",{offset:"".concat(J,"%"),stopColor:"rgba(29,161,242,0.2)"}),(0,A.jsx)("stop",{offset:"".concat(J,"%"),stopColor:"rgba(234,234,234,0.2)"}),(0,A.jsx)("stop",{offset:"100%",stopColor:"rgba(234,234,234,0.2)"})]})]}),(0,A.jsx)(D.u,{className:I().chart,dataKey:"count",stroke:"url(#countLine)",fill:"url(#countArea)",fillOpacity:h,strokeWidth:"2",type:"monotoneX",dot:!1,activeDot:B&&{fill:"#20A2F1",stroke:"#FFFFFF",strokeWidth:2,r:5,z:1e3}||!1,isAnimationActive:!0,animationDuration:500}),c.refX&&(0,A.jsx)(T.d,{x:c.refX,stroke:"#999",strokeDasharray:"2 2",children:(0,A.jsx)(S._,{content:this.setSelectedRefLineLabelLeftProps,value:c.refX,position:"centerTop"})}),c.refX&&(0,A.jsx)(k.q,{x:c.refX,y:c.refY,r:c.radius/2,stroke:c.stroke,fill:c.fill,strokeWidth:Y}),u.refX&&(0,A.jsx)(T.d,{x:u.refX,stroke:"#999",strokeDasharray:"2 2",children:(0,A.jsx)(S._,{content:this.setSelectedRefLineLabelRightProps,value:u.refX,position:"centerTop"})}),u.refX&&(0,A.jsx)(k.q,{x:u.refX,y:u.refY,r:u.radius/2,stroke:u.stroke,fill:u.fill,strokeWidth:Y}),!i&&!s&&!c.isDragging&&!c.refX&&!u.isDragging&&!u.refX&&!v&&!x&&f&&f.count>0&&(0,A.jsx)(T.d,{x:f.from,stroke:"#999",strokeDasharray:"2 2",children:(0,A.jsx)(S._,{content:this.setRefLineLabelProps,value:f.from,position:"centerTop"})}),!i&&!s&&!c.isDragging&&!c.refX&&!u.isDragging&&!u.refX&&!v&&!x&&f&&f.count>0&&(0,A.jsx)(k.q,{x:f.from,y:f.count,fill:"#20A2F1",stroke:"#FFFFFF",strokeWidth:2,r:5}),(0,A.jsxs)("g",{className:I().brushbar,children:[(0,A.jsx)(M.A,{stroke:void 0,fill:void 0,fillOpacity:0,x:W-100,y:U-120,width:z+200,height:220,onMouseMove:this.rectMouseMove,onMouseUp:this.barMouseUp,onMouseLeave:this.rectMouseLeave}),(0,A.jsx)(M.A,{stroke:c.refX||u.refX?q:"#CCCCCC",fill:q,x:W+V,y:U,width:z,height:1}),(0,A.jsx)(M.A,{stroke:"#CCCCCC",fill:"#CCCCCC",x:0+V,y:U,width:c.cx,height:1}),(0,A.jsx)(M.A,{stroke:"#CCCCCC",fill:"#CCCCCC",x:u.cx+V,y:U,width:z-u.cx,height:1}),this.renderHandle()]})]})),!i&&!s&&!c.isDragging&&!c.refX&&!u.isDragging&&!u.refX&&!v&&!x&&f&&f.count>0&&this.renderMaxRefLineLabel(),c.refX&&(c.isDragging||u.isDragging||!v&&!x)&&this.renderSelectedRefLineLeftLabel(),u.refX&&(c.isDragging||u.isDragging||!v&&!x)&&this.renderSelectedRefLineRightLabel()]}),(0,A.jsx)("hr",{}),(0,A.jsxs)("div",{className:I().sentiment,children:[(0,A.jsx)("p",{children:"\u611f\u60c5\u306e\u5272\u5408"}),!o.isTransitionFailed&&!o.isTransitionLoading&&(0,A.jsxs)("ul",{children:[(0,A.jsxs)("li",{className:I().positive,children:[(0,A.jsxs)("span",{className:I().label,children:[(0,A.jsx)("p",{className:I().faceIcon}),(0,A.jsx)("em",{children:"\u30dd\u30b8\u30c6\u30a3\u30d6"})]}),(0,A.jsxs)("span",{className:I().percentage,children:[(0,A.jsx)("em",{className:I().number,children:(null===(t=o.sentimentData)||void 0===t?void 0:t.positive)||"-   "}),"%"]})]}),(0,A.jsx)("li",{className:I().center,children:o.sentimentData.dataPositive.length>0&&o.sentimentData.dataNegative.length>0&&(0,A.jsxs)(_.u,{className:I().chart,width:81,height:81,children:[(0,A.jsx)(C.b,{data:o.sentimentData.dataPositive,label:!1,labelLine:!1,isAnimationActive:!0,animationDuration:500,dataKey:"value",cx:"49%",cy:"49%",startAngle:90,endAngle:$,outerRadius:37,children:(0,A.jsx)(L.b,{fill:"#DFF2D5"},"cell-0")}),(0,A.jsx)(C.b,{data:o.sentimentData.dataNegative,label:!1,labelLine:!1,isAnimationActive:!0,animationDuration:500,dataKey:"value",cx:"49%",cy:"49%",startAngle:90,endAngle:G,outerRadius:37,children:(0,A.jsx)(L.b,{fill:"#F9E3E3"},"cell-0")}),(0,A.jsx)(C.b,{data:o.sentimentData.dataPositive,label:!1,labelLine:!1,isAnimationActive:!0,animationDuration:500,dataKey:"value",cx:"49%",cy:"49%",startAngle:90,endAngle:$,innerRadius:36,outerRadius:40,children:(0,A.jsx)(L.b,{fill:"#36bd17"},"cell-0")}),(0,A.jsx)(C.b,{data:o.sentimentData.dataNegative,label:!1,labelLine:!1,isAnimationActive:!0,animationDuration:500,dataKey:"value",cx:"49%",cy:"49%",startAngle:90,endAngle:G,innerRadius:36,outerRadius:40,children:(0,A.jsx)(L.b,{fill:"#DB444B"},"cell-1")})]})||(0,A.jsxs)("svg",{width:"82",height:"82",children:[(0,A.jsx)("circle",{cx:"50%",cy:"50%",r:"39",strokeWidth:"3",stroke:"#DDDDDD",fill:"#F8F8F8"}),(0,A.jsx)("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"central",fill:"#444444",fontSize:"12",children:"\u5224\u5b9a\u306a\u3057"})]})}),(0,A.jsxs)("li",{className:I().negative,children:[(0,A.jsxs)("span",{className:I().label,children:[(0,A.jsx)("em",{children:"\u30cd\u30ac\u30c6\u30a3\u30d6"}),(0,A.jsx)("p",{className:I().faceIcon})]}),(0,A.jsxs)("span",{className:I().percentage,children:[(0,A.jsx)("em",{className:I().number,children:(null===(r=o.sentimentData)||void 0===r?void 0:r.negative)||"-   "}),"%"]})]})]})]})]})]})||o.isTransitionInitial&&(0,A.jsx)(N.Z,{title:"\u30dd\u30b9\u30c8\u6570\u30b0\u30e9\u30d5",isSubColumn:!0})}}]),r}(x.Component);t.Z=z},43142:function(e,t,r){"use strict";r(67294);var n=r(71849),i=r(68858),s=r.n(i),a=r(85893),o=function(e){if(!e.from||!e.to)return!1;var t=(new Date).getTime()/1e3,r=(0,n.HQ)(e.from+""),i=(0,n.HQ)(e.to+"");return r<=t&&t<=i};t.Z=function(e){return(0,a.jsxs)(a.Fragment,{children:[e&&!e.imageUrl&&e.link&&e.text&&o(e)&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("p",{className:s().PtopLink,children:(0,a.jsx)("a",{href:e.link,dangerouslySetInnerHTML:{__html:e.text}})})}),e&&e.link&&e.imageUrl&&o(e)&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("p",{className:s().PtopLink,children:(0,a.jsx)("a",{href:e.link,children:(0,a.jsx)("img",{src:e.imageUrl})})})})]})}},12549:function(e,t,r){"use strict";r.d(t,{Z:function(){return T}});r(41539),r(12419);var n=r(59499),i=r(92777),s=r(82262),a=r(45959),o=r(63553),l=r(37247),c=r(94184),u=r.n(c),d=r(67294),h=r(21915),f=r(13791),p=(r(39714),r(21249),r(52443)),m=r(66243),v=r.n(m),x=r(85893);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}var j=function(e){(0,a.Z)(r,e);var t=g(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,s.Z)(r,[{key:"renderTweet",value:function(e,t){var r,i=this.props,s=i.fandomTimeline,a=i.tweetSec,o=u()((r={},(0,n.Z)(r,v().fanTweetContainer,!0),(0,n.Z)(r,v().border,t<s.entry.length-1),r));return(0,x.jsx)("div",{className:o,children:(0,x.jsx)(p.Z,{tweet:e,tweetSec:a,tweetPos:(t+1).toString()})},(t+1).toString())}},{key:"render",value:function(){var e=this;return this.props.fandomTimeline.entry.map((function(t,r){return e.renderTweet(t,r)}))}}]),r}(d.Component),b=j,y=r(52338),Z=r.n(y);function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,o.Z)(this,r)}}var D=function(e){(0,a.Z)(r,e);var t=w(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,s.Z)(r,[{key:"render",value:function(){var e,t=this.props,r=t.interestTheme,i=t.fandomTimeline,s=u()((e={},(0,n.Z)(e,Z().FanTweetExcursion,!0),(0,n.Z)(e,"target_modules_viewability",!0),e));return(0,x.jsx)(f.Z,{children:(0,x.jsxs)("div",{id:"inttw",className:s,children:[(0,x.jsxs)("h1",{children:[(0,x.jsx)("a",{href:r.themeUrl,"data-cl-params":(0,h.cl)({_cl_link:"theme"}),children:r.themeName}),"\u306e\u4eba\u6c17\u30dd\u30b9\u30c8"]}),(0,x.jsx)(b,{fandomTimeline:i,tweetSec:"inttw"})]})})}}]),r}(d.Component),T=D},8266:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return r(72293)}])},20968:function(e){e.exports={Chart:"Chart_Chart__afXpw","recharts-layer":"Chart_recharts-layer__6doDj","recharts-brush":"Chart_recharts-brush__2h5J2",tweet:"Chart_tweet__FsquK","recharts-refarea":"Chart_recharts-refarea__9OZSW",title:"Chart_title___a587",term:"Chart_term__Z_wgP",totalCount:"Chart_totalCount__Gkihj",panel:"Chart_panel__ptRDW",spanTab:"Chart_spanTab__6Bwdh",selected:"Chart_selected__7gNrp",parent:"Chart_parent__MggxQ",transition:"Chart_transition__dtOvJ",brushbar:"Chart_brushbar__fL8GI",handle:"Chart_handle__JDKSs",customtooltip:"Chart_customtooltip__b3DLh",label:"Chart_label__8_W91",count:"Chart_count__p7Vxe",high:"Chart_high__3IwEv",low:"Chart_low__md_TI",number:"Chart_number__QIadc",unit:"Chart_unit__NXL_n",referenceLabel:"Chart_referenceLabel__TsjmM",wide:"Chart_wide__wUgCB",narrow:"Chart_narrow__CSuUh",time:"Chart_time__pXsqo",sentiment:"Chart_sentiment__iAeYT",percentage:"Chart_percentage__TnlqD",faceIcon:"Chart_faceIcon__fjhfP",positive:"Chart_positive__O7vRA",negative:"Chart_negative__G9Vm_",center:"Chart_center__Glio8",Loading:"Chart_Loading__1B9zV"}},68858:function(e){e.exports={PtopLink:"PtopLink_PtopLink__vhcDC"}},52338:function(e){e.exports={FanTweetExcursion:"FanTweetExcursion_FanTweetExcursion__Jf5_B"}},66243:function(e){e.exports={fanTweetContainer:"FanTweetList_fanTweetContainer__nksus",border:"FanTweetList_border__djMyu"}},68342:function(e){e.exports={SS:"SS_SS__9XNIB",icon:"SS_icon__6fHTY",popUp:"SS_popUp__ZMFiW",close:"SS_close__mH3Wc"}},80385:function(e){e.exports={TimelineFollowWrapper:"TimelineFollowWrapper_TimelineFollowWrapper__hvG_O",hide:"TimelineFollowWrapper_hide__qeXE_"}}},function(e){e.O(0,[9412,8652,6194,4,1389,3823,4686,6856,6337,9410,5749,1355,9328,9811,1746,2625,9330,8930,1792,5486,9654,1274,1424,9063,2387,204,2174,1905,9774,2888,179],(function(){return t=8266,e(e.s=t);var t}));var t=e.O();_N_E=t}]);