(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9063],{19857:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var i=function(e){if(e.target){var t=window.YAHOO||{};t.JP=t.JP||{},t.JP.srch=t.JP.srch||{},t.JP.srch.popSearchSetting={serviceCode:e.serviceCode,targets:e.target,tab:e.tab,device:e.device};var n=document.getElementsByTagName("body")[0];if(n){var i=document.createElement("script");i.src=e.url,i.async=!1,n.appendChild(i)}}}},72171:function(e,t,n){"use strict";n(41539),n(12419),n(47941),n(82526),n(57327),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070);var i=n(59499),r=n(92777),o=n(82262),s=n(45959),a=n(63553),l=n(37247),c=n(67294),u=n(35047),d=n(64922),f=n.n(d),p=n(85893);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,a.Z)(this,n)}}var m=function(e){(0,s.Z)(n,e);var t=w(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){return(0,p.jsx)("div",{className:f().MainYda,children:(0,p.jsx)(u.Z,v({},this.props))})}}]),n}(c.Component);t.Z=m},39866:function(e,t,n){"use strict";n.d(t,{ZP:function(){return R}});var i=n(2664),r=n(89431),o=n(63101),s=(n(12419),n(47941),n(82526),n(57327),n(38880),n(49337),n(33321),n(69070),n(92777)),a=n(82262),l=n(10748),c=n(45959),u=n(63553),d=n(37247),f=n(59499),p=(n(92222),n(89554),n(41539),n(54747),n(2707),n(39714),n(74916),n(64765),n(26699),n(32023),n(41865)),h=n(94184),v=n.n(h),w=n(67294),m=n(62576),g=n(21915),y=n(2056),b=n(59128),O=n(20288),T=n(14158),P=n(35555),S=n.n(P),j=n(85893);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var r=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var M=function(e){(0,c.Z)(n,e);var t=C(n);function n(e){var i;(0,s.Z)(this,n),i=t.call(this,e),(0,f.Z)((0,l.Z)(i),"pageCount",void 0),(0,f.Z)((0,l.Z)(i),"tweetRef",void 0);var r=e.timeline,o=e.timelineSettings,a=e.setIsLast,c=e.setOldestTweetId,u=e.setUseOffsetTimeline;return i.onClick=i.onClick.bind((0,l.Z)(i)),i.onScroll=i.onScroll.bind((0,l.Z)(i)),i.setTweetCallback=i.setTweetCallback.bind((0,l.Z)(i)),i.onPopState=i.onPopState.bind((0,l.Z)(i)),i.pageCount=0,i.tweetRef=w.createRef(),c(o.oldestTweetId),r.head.totalResultsAvailable===r.head.totalResultsReturned&&r.head.totalResultsAvailable!==o.requestCount&&a(!0),o.useOffsetTimeline&&u(!0),i}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll),document.body.addEventListener("touchmove",this.onScroll),window.addEventListener("popstate",this.onPopState)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll),document.body.removeEventListener("touchmove",this.onScroll),window.removeEventListener("popstate",this.onPopState)}},{key:"buildTimeline",value:function(){var e=this,t=this.props,n=t.timeline,i=t.paginationState,r=[];return n.entry.concat(i.tweet).forEach((function(t,n){r.push(e.renderTimelineTweet(t,n))})),r}},{key:"onPopState",value:function(e){var t,n=this.props,i=n.showModalViewer,r=n.closeModalViewer,o=n.loadImageModal,s=n.setPageNumber;if(null!==(t=e.state)&&void 0!==t&&t.tweet){var a=e.state,l=a.tweet,c=a.index;s(a.page),i({index:c,tweet:l,disableHistory:!0});o("/modal",{tweetId:l.id})}else r()}},{key:"onClick",value:function(){var e=this.props,t=e.timeline,n=e.timelineSettings,i=e.pagination,r=e.sort,o=e.paginationState,s=e.setTweet;if(i){var a=n.useOffsetTimeline||"h"===(null===r||void 0===r?void 0:r.type);s(i.path,Z(Z({},i.params),{},{oldestTweetId:a?void 0:o.oldestTweetId,start:a?(t.entry.length+o.tweet.length).toString():void 0,b:++this.pageCount}),this.setTweetCallback)}}},{key:"onScroll",value:function(){var e=this.props,t=e.timeline,n=e.timelineSettings,i=e.pagination,r=e.sort,o=e.paginationState,s=e.setTweet;if(i&&(this.tweetRef.current&&!o.isLast&&this.tweetRef.current.getBoundingClientRect().bottom<=window.innerHeight+100&&o.isInitial&&!o.isLoading&&!n.useOffsetTimeline&&o.count<4)){var a="h"===(null===r||void 0===r?void 0:r.type);s(i.path,Z(Z({},i.params),{},{oldestTweetId:a?void 0:o.oldestTweetId,start:a?(t.entry.length+o.tweet.length).toString():void 0}),this.setTweetCallback)}}},{key:"setTweetCallback",value:function(){var e=this.props,t=e.query,n=e.timelineSettings,i=e.pagination;i&&(y.J3.refreshModule("sr"),(0,b.n)(),t&&i.ualTagProps.search&&(0,b.p)(),n.highload&&window.dispatchEvent(new Event("loaded")))}},{key:"renderTimelineTweet",value:function(e,t){var n=this.props,i=n.query,r=n.login,o=n.timelineSettings,s=n.patrol,a=n.muteState,l=a.muteUserIds.includes(e.userId),c=a.directMuteTweetIds.includes(e.id);return l&&!c?null:(0,j.jsx)("div",{ref:this.tweetRef,children:(0,j.jsx)(T.ZP,{query:i,login:r,tweet:e,tweetSec:"sr",tweetPos:(t+1).toString(),photoMode:o.imageMode,videoMode:o.videoMode,showPreview:o.showPreview,showQuotedTweetImage:o.showQuotedTweetImage,showReplyMention:o.showReplyMention,showViolationReport:o.showViolationReport,showMuteMenuList:o.showMuteMenuList,androidTablet:o.androidTablet,patrol:s})},t)}},{key:"renderLoading",value:function(){var e=this.props.paginationState;return e.isLoading?(0,j.jsx)(m.Z,{}):e.isLast?null:(0,j.jsx)(O.Z,{slk:"more",onClick:this.onClick})}},{key:"renderError",value:function(){return(0,j.jsx)("div",{className:S().LoadingError,children:(0,j.jsxs)("p",{children:["\u8aad\u307f\u8fbc\u307f\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002",(0,j.jsxs)("a",{onClick:this.onClick,"data-cl-params":(0,g.cl)({_cl_link:"resc"}),children:[(0,j.jsx)(p.t,{size:20,fill:"#444"}),"\u518d\u8aad\u307f\u8fbc\u307f"]})]})})}},{key:"render",value:function(){var e,t=this.props,n=t.paginationState,i=t.indent,r=v()((e={},(0,f.Z)(e,S().Timeline,!0),(0,f.Z)(e,S().indent,i),(0,f.Z)(e,"target_modules_viewability",!0),e));return(0,j.jsxs)("div",{id:"sr",className:r,children:[this.buildTimeline(),!n.isFailed&&this.renderLoading(),n.isFailed&&this.renderError()]})}}]),n}(w.Component),R=(0,i.$j)((function(e){return{paginationState:e.paginationState,muteState:e.muteState}}),(function(e){return{setTweet:function(t,n,i){e((0,o.nM)({path:t,params:n})).then((function(){"function"===typeof i&&i()}))},setOldestTweetId:function(t){e((0,o.Es)(t))},setIsLast:function(t){e((0,o.AY)(t))},setUseOffsetTimeline:function(t){e((0,o.KV)(t))},closeModalViewer:function(){e((0,r.ij)())},showModalViewer:function(t){e((0,r.op)(t))},loadImageModal:function(t,n){e((0,r.pP)({path:t,params:n}))},setPageNumber:function(t){e((0,r.oW)(t))}}}))(M)},64922:function(e){e.exports={MainYda:"MainYda_MainYda__tLJh2"}},35555:function(e){e.exports={Timeline:"Timeline_Timeline__CyqDn",indent:"Timeline_indent__EGMWy",LoadingError:"Timeline_LoadingError__TezTq"}}}]);